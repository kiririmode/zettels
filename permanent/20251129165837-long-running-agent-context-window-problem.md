---
id: 2025-11-29-165837
title: 長時間実行AIエージェントのコンテキストウィンドウ問題
created: 2025-11-29 16:58:37
updated: 2025-11-29 16:58:37
tags:
  - zettel
  - ai
  - agent
  - long-running
  - context-window
source:
  type: article
  ref: "Anthropic - Effective harnesses for long-running agents"
---

## 要約（Summary）

- AIエージェントが長時間タスクを実行する場合、コンテキストウィンドウの制限によりセッション間でメモリが失われる。
- これにより、複雑なプロジェクトで一貫した進捗が難しくなる。
- 解決策として、初期化エージェントとコーディングエージェントの分担が必要。

## 本文（Body）

### 背景・問題意識

AIエージェントは、Claude Agent SDKのようなツールを使って複雑なタスクを実行できるが、長時間にわたる作業ではコンテキストウィンドウの制約が課題となる。各セッションが独立しており、前のセッションの記憶がないため、ソフトウェア開発のようなプロジェクトで一貫した進捗が難しい。

### アイデア・主張

長時間実行エージェントの核心的な問題は、離散的なセッション間で状態を維持できないこと。これを解決するため、環境の初期設定とインクリメンタルな進捗管理が必要。

### 具体例・ケース

Webアプリのクローン作成タスクで、エージェントが一度に全てを実装しようとして失敗し、セッション間で混乱が生じるケース。

### 反論・限界・条件

コンテキスト圧縮（compaction）だけでは不十分で、明示的な状態管理が必要。単純なタスクでは問題にならないが、複雑なプロジェクトで顕在化。

## 関連ノート（Links）

- [[20251129160320-ai-task-granularity|AIへのタスク粒度と効率の関係]] AIタスクの粒度管理との関連
- [[20251129160321-ai-delegation-failure-patterns|AI丸投げの失敗パターン]] AI委譲の失敗パターン

## To-Do / 次に考えること

- [ ] コンテキストウィンドウの技術的限界を調査
- [ ] 他のAIフレームワークでの同様の問題を確認